package shop;

import com.kirill.org.Shop.APIResponse;
import com.kirill.org.Shop.Empty;
import com.kirill.org.shopGrpc.shopImplBase;
import com.kirill.org.Shop.Request;

import io.grpc.stub.StreamObserver;

public class ShopService extends shopImplBase {

	@Override
	public void getall(Empty request, StreamObserver<APIResponse> responseObserver) {
			
		APIResponse.Builder response = APIResponse.newBuilder();
		
		response.setResponseCode(0).setResponsemessage("SUCCESS");
	
		responseObserver.onNext(response.build());
		responseObserver.onCompleted();
	}

	@Override
	public void getOne(Request request, StreamObserver<APIResponse> responseObserver) {
		int id = request.getId();
		
		
		APIResponse.Builder response = APIResponse.newBuilder();
		switch(id) {
		case 1:
			response.setResponseCode(0).setResponsemessage("id is " + id);
		case 2: 
			response.setResponseCode(0).setResponsemessage("id is " + id);
		}
		
		
		responseObserver.onNext(response.build());
		responseObserver.onCompleted();
	}




}
